{"remainingRequest":"/Users/admin/web/app/node_modules/babel-loader/lib/index.js!/Users/admin/web/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/web/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/admin/web/app/src/components/UserCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/admin/web/app/src/components/UserCard.vue","mtime":1632579099281},{"path":"/Users/admin/web/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/web/app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/web/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/web/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hZG1pbi93ZWIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbJ2lkJywgJ25hbWUnLCAnY2l0eScsICdhZ2UnLCAnc2V4JywgJ2hlaWdodCcsICd3ZWlnaHQnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHBob3RvczogW3sKICAgICAgICBzcmM6ICdodHRwczovL2Nkbi52dWV0aWZ5anMuY29tL2ltYWdlcy9jYXJkcy9jb29raW5nLnBuZycKICAgICAgfSwgewogICAgICAgIHNyYzogJ2h0dHBzOi8vY2RuLnZ1ZXRpZnlqcy5jb20vaW1hZ2VzL2NhcmRzL2Nvb2tpbmcucG5nJwogICAgICB9LCB7CiAgICAgICAgc3JjOiAnaHR0cHM6Ly9jZG4udnVldGlmeWpzLmNvbS9pbWFnZXMvY2FyZHMvY29va2luZy5wbmcnCiAgICAgIH0sIHsKICAgICAgICBzcmM6ICdodHRwczovL2Nkbi52dWV0aWZ5anMuY29tL2ltYWdlcy9jYXJkcy9jb29raW5nLnBuZycKICAgICAgfV0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gc2VuZE1lc3NhZ2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB0aHJlYWRfaWQsIGRvY1JlZjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aHJlYWRfaWQgPSAwOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01FU1NBR0UgU0VOREVEJywgX3RoaXMubmFtZSwgX3RoaXMuaWQpOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pZCA+IF90aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlkKSB7CiAgICAgICAgICAgICAgICAgIHRocmVhZF9pZCA9IF90aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlkICsgX3RoaXMuaWQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aHJlYWRfaWQgPSBfdGhpcy5pZCArIF90aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlkOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlLmZpcmVzdG9yZSgpLmNvbGxlY3Rpb24oImNoYXRzIikuZG9jKHRocmVhZF9pZCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGRvY1JlZiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkb2NSZWYuZ2V0KCkudGhlbihmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICAgICAgICAgIGlmIChkb2MuZXhpc3RzKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkRvY3VtZW50IGRhdGE6IiwgZG9jLmRhdGEoKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIk5vIHN1Y2ggZG9jdW1lbnQhIik7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIldpbGwgY3JlYXRlIHRoaXMgZG9jdW1lbnQiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZFJvb20gPSBmaXJlYmFzZS5maXJlc3RvcmUoKS5jb2xsZWN0aW9uKCJjaGF0cyIpLmRvYyh0aHJlYWRfaWQpLnNldCh7CiAgICAgICAgICAgICAgICAgICAgICB1c2VyczogW190aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlkLCBfdGhpcy5pZF0sCiAgICAgICAgICAgICAgICAgICAgICBmaXJzdFVzZXI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogX3RoaXMuJHN0b3JlLnN0YXRlLnVzZXIubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlkCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgc2Vjb25kVXNlcjogewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBfdGhpcy5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBpZDogX3RoaXMuaWQKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiQ2hhdCByb29tIGNyZWF0ZWQiKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRklOSVNIISIpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9jaGF0cycpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkVycm9yIGdldHRpbmcgZG9jdW1lbnQ6IiwgZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["UserCard.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-card\n\televation=\"24\"\n\twidth = \"485\"\n\theight = \"765\"\n\toutlined\n\tdark\n\tcolor=\"indigo text--white\"\n  >\n\n  <v-carousel \n  hide-delimiter-background\n  show-arrows-on-hover\n  delimiter-icon=\"mdi-minus\"\n  max-height=\"125\"\n  >\n    <v-carousel-item\n      v-for=\"(photo,i) in photos\"\n      :key=\"i\"\n      :src=\"photo.src\"\n    ></v-carousel-item>\n  </v-carousel>\n\n    <v-card-title >{{name}}</v-card-title>\n\n    <v-divider class=\"mx-4 white\"></v-divider>\n\n    <v-card-title> {{city}}          \n\t<v-divider\n      class=\"mx-4 white\"\n      vertical\n    ></v-divider>      \n\t{{age}} лет \n\t\t<v-spacer></v-spacer>\n\t\t    <v-divider\n      class=\"mx-4 white\"\n      vertical\n    ></v-divider>\n\t\t<v-icon v-if=\"sex == 0\"\n\t  \tlarge\n\t\tcolor=\"white\">mdi-human-male\n\t \t</v-icon> \n\t\t<v-icon v-if=\"sex == 1\"\n\t  \tlarge\n\t\tcolor=\"white\">mdi-human-female\n\t\t</v-icon>\n\t </v-card-title>\n\n    <v-card-text>\n      <v-chip-group\n\t\tclass=\"text-center\"\n      >\n\t\t<v-chip\n\t\tclass=\"ma-2\"\n        :input-value=\"active\"\n\t\ttext-color=\"white\"\n        color=\"white\"\n        outlined\n\t\tlabel\n\t\t>\n\t\t<v-icon\n\t\tcolor=\"white\">mdi-human-male-height\n\t \t</v-icon>\n\t\tРост: {{height}} сантиметров.\n\t\t</v-chip>\n\n\t\t<v-chip\n\t\tclass=\"ma-2\"\n        :input-value=\"active\"\n\t\ttext-color=\"white\"\n        color=\"white\"\n        outlined\n\t\tlabel\n\t\t>\n\t\t<v-icon\n\t\tcolor=\"white\">mdi-weight-kilogram\n\t \t</v-icon>\n\t\t <v-spacer></v-spacer>\n\t\tВес: {{weight}} килограмм.\n\t\t</v-chip>\t\t\n\t\n\t\t\n      </v-chip-group>\n    </v-card-text>\n\n\t<v-divider class=\"mx-4 white\"></v-divider>\n\n    <v-card-actions>\n      <v-btn\n        color=\"white\"\n        text\n        @click=\"sendMessage\"\n\t\tblock\n      >\n\t  <v-icon\n\t  \tlarge\n\t\tcolor=\"white\">mdi-chat-processing\n\t </v-icon>\n\t    Написать сообщение\n      </v-btn>\n\t  \n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\n  import firebase from \"firebase\"\n\n  export default {\t\n\tprops: ['id', 'name', 'city', 'age', 'sex', 'height', 'weight'],\n    data: () => ({\n      loading: false,\n\t  photos: [\n\t\t{\n\t\tsrc: 'https://cdn.vuetifyjs.com/images/cards/cooking.png',\n\t\t},\n\t\t{\n\t\tsrc: 'https://cdn.vuetifyjs.com/images/cards/cooking.png',\n\t\t},\n\t\t{\n\t\tsrc: 'https://cdn.vuetifyjs.com/images/cards/cooking.png',\n\t\t},\n\t\t{\n\t\tsrc: 'https://cdn.vuetifyjs.com/images/cards/cooking.png',\n\t\t},\n\t  ],\n    }),\n\n    methods: {\n\t\tasync sendMessage() {\n\t\t\tvar thread_id = 0\n\t\t\tconsole.log('MESSAGE SENDED', this.name, this.id)\n\t\t\tif(this.id > this.$store.state.user.id){\n\t\t\t\tthread_id = this.$store.state.user.id + this.id\n\t\t\t}else{\n\t\t\t\tthread_id = this.id + this.$store.state.user.id\n\t\t\t}\n\n\t\t\tvar docRef = await firebase.firestore().collection(\"chats\").doc(thread_id)\n\n\t\t\tdocRef.get().then((doc) => {\n\t\t\t\tif (doc.exists) {\n\t\t\t\t\tconsole.log(\"Document data:\", doc.data())\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"No such document!\")\n\t\t\t\t\tconsole.log(\"Will create this document\")\n\t\t\t\t\tvar createdRoom = firebase.firestore().collection(\"chats\")\n\t\t\t\t\t.doc(thread_id)\n\t\t\t\t\t.set({\n\t\t\t\t\tusers: [this.$store.state.user.id, this.id],\n\t\t\t\t\tfirstUser: {\n\t\t\t\t\t\tname: this.$store.state.user.name,\n\t\t\t\t\t\tid: this.$store.state.user.id\n\t\t\t\t\t},\n\t\t\t\t\tsecondUser: {\n\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\tid: this.id\n\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tconsole.log(\"Chat room created\")\n\t\t\t\t\tconsole.log(\"FINISH!\")\n\t\t\t\t\tthis.$router.push('/chats')\n\t\t\t\t}\n\t\t\t}).catch((error) => {\n\t\t\t\tconsole.log(\"Error getting document:\", error);\n\t\t\t})\n\n\t\t\t\n\t\t}\n  }}\n</script>"],"sourceRoot":"src/components"}]}